{{- $dest := .Destination -}}
{{- $title := .Title -}}
{{- $text := .Text -}}
{{- $isExternal := or (hasPrefix $dest "http://") (hasPrefix $dest "https://") -}}

{{- if $isExternal -}}
  <a href="{{ $dest | safeURL }}" target="_blank" rel="noopener noreferrer"{{ if $title }} title="{{ $title }}"{{ end }}>{{ $text | safeHTML }}</a>
{{- else -}}
  <a href="{{ $dest | safeURL }}"{{ if $title }} title="{{ $title }}"{{ end }}>{{ $text | safeHTML }}</a>
{{- end -}}
